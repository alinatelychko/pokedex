let pokemonRepository=function(){let e=[];function t(e){let t=$(".modal-body"),n=$(".modal-title");$(".modal-header");n.empty(),t.empty();let o=document.createElement("h1");o.innerText="Pokemon name: "+e.name;let a=document.createElement("p");a.innerText="Pokemon height: "+e.height;let l=document.createElement("img");l.src=e.imageUrl,t.append(l),t.append(o),t.append(a),$("#exampleModal").click((function(){$(button).toggle("modal")}))}function n(e){let t=e.detailsUrl;return fetch(t).then((function(e){return e.json()})).then((function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types})).catch((function(e){console.error(e)}))}function o(t){e.push(t)}return{getAll:function(){return e},add:o,addListItem:function(e){let o=document.querySelector(".pokemon-list"),a=document.createElement("li"),l=document.createElement("button");l.innerText=e.name,a.classList.add("list-group-item"),l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#exampleModal"),l.classList.add("btn","btn-outline-info"),a.append(l),o.append(a),l.addEventListener("click",(()=>{!function(e){n(e).then((function(){t(e)}))}(e)}))},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then((function(e){return e.json()})).then((function(e){e.results.forEach((function(e){o({name:e.name,detailsUrl:e.url,imageUrl:e.myImage})}))})).catch((function(e){console.error(e)}))},loadDetails:n}}();pokemonRepository.loadList().then((function(){pokemonRepository.getAll().forEach((function(e){pokemonRepository.addListItem(e)}))}));const handleSearch=e=>{e.preventDefault();const t=document.getElementById("search-input").value;document.querySelector(".pokemon-list").innerHTML=null;const n=[...pokemonRepository.getAll()];console.log("pokemons",n),n.forEach((e=>{e.name.toLowerCase().includes(t.trim().toLowerCase())&&pokemonRepository.addListItem(e)}))},searchBtn=document.getElementById("search-btn");searchBtn.addEventListener("click",handleSearch);